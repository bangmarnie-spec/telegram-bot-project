from telegram import Update, InputMediaPhoto, InputMediaVideo
from telegram.ext import Application, MessageHandler, filters, ContextTypes

# ØªÙˆÚ©Ù† Ø±Ø¨Ø§Øª Ø®ÙˆØ¯Øª
TOKEN = "YOUR_BOT_TOKEN"

async def handle_media(update: Update, context: ContextTypes.DEFAULT_TYPE):
    message = update.message

    if message.photo:  # Ø§Ú¯Ø± Ø¹Ú©Ø³ Ø¨ÙˆØ¯
        file_id = message.photo[-1].file_id
        media_group = [
            InputMediaPhoto(media=file_id, caption="Ù†Ø³Ø®Ù‡ Û±"),
            InputMediaPhoto(media=file_id, caption="Ù†Ø³Ø®Ù‡ Û²")
        ]
        await context.bot.send_media_group(chat_id=message.chat_id, media=media_group)

    elif message.video:  # Ø§Ú¯Ø± ÙˆÛŒØ¯ÛŒÙˆ Ø¨ÙˆØ¯
        file_id = message.video.file_id
        media_group = [
            InputMediaVideo(media=file_id, caption="Ù†Ø³Ø®Ù‡ Û±"),
            InputMediaVideo(media=file_id, caption="Ù†Ø³Ø®Ù‡ Û²")
        ]
        await context.bot.send_media_group(chat_id=message.chat_id, media=media_group)

    else:
        await message.reply_text("ÙÙ‚Ø· Ø¹Ú©Ø³ ÛŒØ§ ÙˆÛŒØ¯ÛŒÙˆ Ø¨ÙØ±Ø³Øª ğŸ™‚")

def main():
    app = Application.builder().token(TOKEN).build()

    # Ù‡Ù†Ø¯Ù„Ø± Ø¨Ø±Ø§ÛŒ Ø¹Ú©Ø³ Ùˆ ÙˆÛŒØ¯ÛŒÙˆ
    app.add_handler(MessageHandler(filters.PHOTO | filters.VIDEO, handle_media))

    print("Bot is running...")
    app.run_polling()

if __name__ == "__main__":
    main()
